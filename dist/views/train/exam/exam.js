!function(t){function e(i){if(a[i])return a[i].exports;var o=a[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}({0:function(t,e,a){t.exports=a(66)},66:function(t,e,a){var i,o;i=a(67),o=a(74),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},67:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(68),l=i(o);e["default"]={data:function(){return{step:1,isShowDialog:!1,typeData:[],query:{start_date:""},queryData:{data:[]},addQuery:{number:"",title:"",is_train:1,type:"1",train:"",ratio:"",start_date:"",timeout:"",cat_id:[],remark:"",item:[{name:"",score:"",remark:"",range:[{type:"",cat_id:"",sum:1}]}]}}},props:["service"],components:{add:l["default"]},events:{confirmlSubmitEvent:function(){var t=this;this.$log("addQuery"),this.$dispatch("isLoading",!0),this.service.addExam(this.addQuery).then(function(e){t.queryData.push(e),t.isShowDialog=!1},function(t){t&&alert(t)})["finally"](function(){t.$dispatch("isLoading",!1)})}},methods:{getQueryData:function(){var t=this;this.$dispatch("isLoading",!0),this.service.getExamList(this.query).then(function(e){t.queryData=e},function(t){t&&alert(t)})["finally"](function(){t.$dispatch("isLoading",!1)})},getTypeData:function(){var t=this;this.service.getCategoryList({type:2}).then(function(e){t.typeData=e},function(t){t&&alert(t)})},submitSearch:function(){console.log(this.query)},showAddExamDialog:function(){this.isShowDialog=!0}},route:{data:function(t){t.next;this.$dispatch("documentTitle","考试管理")}},ready:function(){this.getQueryData(),this.getTypeData()}}},68:function(t,e,a){var i,o;i=a(69),o=a(73),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},69:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(70),l=i(o);e["default"]={data:function(){return{dialog:{title:"创建考试-基本信息",buttons:[{text:"取消",className:"",clickEvent:"cancelEvent"},{text:"下一步",className:"xa-bg-blue-click",clickEvent:"toNextStepEvent"}]}}},props:{step:{type:Number,"default":1,twoWay:!0},query:{type:Object,twoWay:!0},show:{type:Boolean,"default":!1,twoWay:!0},typeData:{type:Array,"default":[]}},events:{cancelEvent:function(){this.show=!1},toNextStepEvent:function(){this.step=2},toPreStepEvent:function(){this.step=1},addModuleEvent:function(){this.query.item.push({name:"",score:"",remark:"",range:[{type:"",cat_id:"",sum:1}]})},deleteModuleEvent:function(t){1==this.query.item.length&&console.log("最后一个也删？"),this.query.item.splice(t,1)},confirmlEvent:function(){this.$dispatch("confirmlSubmitEvent")}},components:{module:l["default"]},watch:{step:function(t){1==t?(this.dialog.title="创建考试-基本信息",this.dialog.buttons=[{text:"取消",className:"",clickEvent:"cancelEvent"},{text:"下一步",className:"xa-bg-blue-click",clickEvent:"toNextStepEvent"}]):2==t&&(this.dialog.title="创建考试-模块信息",this.dialog.buttons=[{text:"添加模块",className:"",clickEvent:"addModuleEvent"},{text:"上一步",className:"",clickEvent:"toPreStepEvent"},{text:"提交",className:"",clickEvent:"confirmlEvent"},{text:"取消",className:"",clickEvent:"cancelEvent"}])}}}},70:function(t,e,a){var i,o;i=a(71),o=a(72),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},71:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{show:!0}},methods:{addRange:function(){this.module.range.push({type:"",cat_id:"",sum:1})},deleteModule:function(){this.$dispatch("deleteModuleEvent",this.index)}},props:{module:Object,typeData:Array,index:Number}}},72:function(t,e){t.exports='<tbody style="border:1px solid #eee;border-top:2px solid white"> <tr @click="show=!show"> <td colspan=2 style=padding:0;padding-left:10px;background:#eee> <div class=xa-box> <div class=xa-flex style=line-height:40px;text-align:left>{{ module.name }}</div> <div class=xa-icon-boxs> <div @click.stop=deleteModule class=xa-icon-box> <i class="iconfont icon-shanchu xa-txt-20"></i> </div> <div class=xa-icon-box :class="{\'xa-toggle\':!show,\'xa-toggle-up\':show}"> <i class="iconfont icon-jiantouxia xa-txt-20"></i> </div> </div> </div> </td> </tr> <tr v-show=show> <td class=xa-width-100><label>模块名称</label></td> <td> <input v-model=module.name placeholder=请输入模块名称 type=text class=form-control> </td> </tr> <tr v-show=show> <td><label>满分</label></td> <td> <input v-model=module.score placeholder=请输入该模块分值 type=number class=form-control> </td> </tr> <tr v-show=show> <td><label>试题范围</label></td> <td class=exam-range> <div v-for="item in module.range" class=xa-box> <div class=xa-flex> <label>题型：<select v-model=item.type class=form-control style=display:inline-block;width:140px;margin-right:12px> <option value=1>单选题</option> <option value=2>多选题</option> <option value=3>判断题</option> </select></label> <label>分类：<select v-model=item.cat_id class=form-control style=display:inline-block;width:200px;margin-right:12px> <option v-for="item in typeData" :value=item.id>{{{ item.name }}}</option> </select></label> <label>题数：<input v-model=item.sum type=number min=1 class=form-control style=display:inline-block;width:100px></label> </div> <div @click=addRange v-show="module.range.length-1 == $index" class="xa-icon-box add-range" title=添加试题范围><i class="iconfont icon-2 xa-txt-20"></i></div> </div> </td> </tr> </tbody>'},73:function(t,e){t.exports='<xa-prompt :title=dialog.title :buttons=dialog.buttons :show.sync=show> <div style="width:800px;padding:10px 20px"> <table v-show="step == 1" class="xa-table xa-txt-right"> <tbody> <tr> <td class=xa-width-100><label>考试编号</label></td> <td><input v-model=query.number placeholder=输入考试编号 type=text class=form-control></td> </tr> <tr> <td><label>考试标题</label></td> <td> <input v-model=query.title placeholder=输入考试标题 type=text class=form-control> </td> </tr> <tr> <td><label>课程考核</label></td> <td class=xa-txt-left> <label><input type=radio value=1 v-model=query.is_train name=istrain>是</label> <label style=margin-left:20px><input type=radio value=2 v-model=query.is_train name=istrain>否</label> </td> </tr> <tr v-show="query.is_train == 1"> <td><label>课程编号</label></td> <td> <select v-model=query.train class=form-control> </select> </td> </tr> <tr v-show="query.is_train == 1"> <td><label>综合成绩占比</label></td> <td> <input v-model=query.ratio placeholder=输入综合成绩占比 type=text class=form-control> </td> </tr> <tr> <td><label>考试形式</label></td> <td> <select v-model=query.type class=form-control> <option value=1>考卷形式</option>} <option value=2>口试或实操形式</option>} </select> </td> </tr> <tr> <td><label>考试日期</label></td> <td> <input v-model=query.start_date type=datetime-local class=form-control> </td> </tr> <tr> <td><label>考试时长</label></td> <td> <input v-model=query.timeout placeholder=输入考试时长（单位：分钟） min=1 type=number class=form-control> </td> </tr> <tr> <td><label>包含分类</label></td> <td> <select v-model=query.cat_id multiple=multiple class=form-control> <option v-for="item in typeData" :value=item.id>{{{ item.name }}}</option> </select> </td> </tr> <tr> <td><label>分类描述</label></td> <td> <textarea v-model=query.remark class=form-control rows=4 style=resize:vertical></textarea> </td> </tr> </tbody> </table> <table v-show="step == 2" class="xa-table xa-txt-right"> <tbody is=module :type-data=typeData v-for="item in query.item" :index=$index :module=item></tbody> </table> </div> </xa-prompt>'},74:function(t,e){t.exports='<div class="xa-page exam"> <header class=xa-header> <div class=xa-header-icon> <i class="iconfont icon-htmal5icon30"></i> </div> <div @click=showAddExamDialog title=创建考试 class=xa-header-icon> <i class="iconfont icon-tianjia"></i> </div> <div class=xa-date-box> <span>创建时间</span> <xa-date :value.sync=query.start_date></xa-date> <div class=dropdown><i class="iconfont icon-jiantouxia"></i></div> </div> <div @click=submitSearch class="xa-btn xa-bg-blue-click">筛选</div> </header> <div class=xa-page-container> <table class="xa-table xa-txt-center"> <thead> <tr> <th><div>考试编号</div></th> <th><div>考试标题</div></th> <th><div>分类</div></th> <th><div>创建时间</div></th> <th><div>考试时间</div></th> <th><div>创建人</div></th> <th><div>操作</div></th> </tr> </thead> <tbody> <tr v-for="item in queryData.data" class=xa-border-bottom> <td>{{ item.number }}</td> <td><a v-link="{path:\'/train/exam/paper?id=\'+item.id}" class="text xa-txt-blue">{{ item.title }}</a></td> <td><span class=text>{{ item.cat_id }}</span></td> <td>{{ item.create_at }}</td> <td>{{ item.start_date }}</td> <td>{{ item.create_by }}</td> <td style="width:200px;max-width:200px;padding:0 10px"><span class=xa-btns><span class="xa-btn-min xa-bg-blue-click">修改</span><span class="xa-btn-min xa-bg-red-click">删除</span></span></td> </tr>  </tbody></table> </div> <add :step.sync=step :show.sync=isShowDialog :query.sync=addQuery :type-data=typeData></add> </div>'}});